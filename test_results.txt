============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0 -- /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/sampom/forge/aise/assignments/aise26-w12d2-assignment
configfile: pytest.ini
testpaths: tests
plugins: cov-7.0.0, asyncio-1.3.0, anyio-4.12.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 37 items

tests/test_auth.py::TestAuthentication::test_register_user_success FAILED [  2%]
tests/test_auth.py::TestAuthentication::test_register_duplicate_email ERROR [  5%]
tests/test_auth.py::TestAuthentication::test_register_duplicate_username ERROR [  8%]
tests/test_auth.py::TestAuthentication::test_register_weak_password PASSED [ 10%]
tests/test_auth.py::TestAuthentication::test_login_success ERROR         [ 13%]
tests/test_auth.py::TestAuthentication::test_login_wrong_password ERROR  [ 16%]
tests/test_auth.py::TestAuthentication::test_login_nonexistent_user PASSED [ 18%]
tests/test_auth.py::TestAuthentication::test_get_current_user ERROR      [ 21%]
tests/test_auth.py::TestAuthentication::test_get_current_user_no_token FAILED [ 24%]
tests/test_auth.py::TestAuthentication::test_get_current_user_invalid_token PASSED [ 27%]
tests/test_jobs.py::TestJobPostings::test_create_job_as_employer ERROR   [ 29%]
tests/test_jobs.py::TestJobPostings::test_create_job_as_admin ERROR      [ 32%]
tests/test_jobs.py::TestJobPostings::test_create_job_as_user_fails ERROR [ 35%]
tests/test_jobs.py::TestJobPostings::test_create_job_no_auth FAILED      [ 37%]
tests/test_jobs.py::TestJobPostings::test_list_jobs_public ERROR         [ 40%]
tests/test_jobs.py::TestJobPostings::test_list_jobs_pagination ERROR     [ 43%]
tests/test_jobs.py::TestJobPostings::test_list_jobs_filter_company ERROR [ 45%]
tests/test_jobs.py::TestJobPostings::test_get_job_by_id ERROR            [ 48%]
tests/test_jobs.py::TestJobPostings::test_get_nonexistent_job PASSED     [ 51%]
tests/test_jobs.py::TestJobPostings::test_update_own_job ERROR           [ 54%]
tests/test_jobs.py::TestJobPostings::test_update_others_job_fails ERROR  [ 56%]
tests/test_jobs.py::TestJobPostings::test_admin_can_update_any_job ERROR [ 59%]
tests/test_jobs.py::TestJobPostings::test_deactivate_job ERROR           [ 62%]
tests/test_jobs.py::TestJobPostings::test_delete_job_admin_only ERROR    [ 64%]
tests/test_skills.py::TestSkills::test_create_skill_as_admin ERROR       [ 67%]
tests/test_skills.py::TestSkills::test_create_skill_as_user_fails ERROR  [ 70%]
tests/test_skills.py::TestSkills::test_create_duplicate_skill ERROR      [ 72%]
tests/test_skills.py::TestSkills::test_list_skills_public PASSED         [ 75%]
tests/test_skills.py::TestSkills::test_list_skills_pagination PASSED     [ 78%]
tests/test_skills.py::TestSkills::test_list_skills_filter_category PASSED [ 81%]
tests/test_skills.py::TestSkills::test_list_skills_min_demand PASSED     [ 83%]
tests/test_skills.py::TestSkills::test_get_skill_by_id PASSED            [ 86%]
tests/test_skills.py::TestSkills::test_get_skill_by_name PASSED          [ 89%]
tests/test_skills.py::TestSkills::test_update_skill_as_admin ERROR       [ 91%]
tests/test_skills.py::TestSkills::test_update_skill_as_user_fails ERROR  [ 94%]
tests/test_skills.py::TestSkills::test_delete_skill_as_admin ERROR       [ 97%]
tests/test_skills.py::TestSkills::test_get_trending_skills PASSED        [100%]
ERROR: Coverage failure: total of 70 is less than fail-under=80


==================================== ERRORS ====================================
______ ERROR at setup of TestAuthentication.test_register_duplicate_email ______

fixturedef = <FixtureDef argname='test_user' scope='function' baseid='tests'>
request = <SubRequest 'test_user' for <Function test_register_duplicate_email>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:60: in test_user
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcf23530>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:23,249 - app.main - INFO - initializing database...
2026-01-04 13:13:23,250 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:23,250 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
____ ERROR at setup of TestAuthentication.test_register_duplicate_username _____

fixturedef = <FixtureDef argname='test_user' scope='function' baseid='tests'>
request = <SubRequest 'test_user' for <Function test_register_duplicate_username>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:60: in test_user
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcf6d3d0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:23,687 - app.main - INFO - initializing database...
2026-01-04 13:13:23,688 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:23,689 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
___________ ERROR at setup of TestAuthentication.test_login_success ____________

fixturedef = <FixtureDef argname='test_user' scope='function' baseid='tests'>
request = <SubRequest 'test_user' for <Function test_login_success>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:60: in test_user
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcfa4920>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:24,172 - app.main - INFO - initializing database...
2026-01-04 13:13:24,173 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:24,174 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
________ ERROR at setup of TestAuthentication.test_login_wrong_password ________

fixturedef = <FixtureDef argname='test_user' scope='function' baseid='tests'>
request = <SubRequest 'test_user' for <Function test_login_wrong_password>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:60: in test_user
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcf6c830>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:24,542 - app.main - INFO - initializing database...
2026-01-04 13:13:24,543 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:24,544 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
__________ ERROR at setup of TestAuthentication.test_get_current_user __________

fixturedef = <FixtureDef argname='test_user' scope='function' baseid='tests'>
request = <SubRequest 'test_user' for <Function test_get_current_user>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:60: in test_user
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcfa78f0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:25,084 - app.main - INFO - initializing database...
2026-01-04 13:13:25,084 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:25,085 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
________ ERROR at setup of TestJobPostings.test_create_job_as_employer _________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_create_job_as_employer>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcfdf800>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:25,564 - app.main - INFO - initializing database...
2026-01-04 13:13:25,565 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:25,566 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
__________ ERROR at setup of TestJobPostings.test_create_job_as_admin __________

fixturedef = <FixtureDef argname='test_admin' scope='function' baseid='tests'>
request = <SubRequest 'test_admin' for <Function test_create_job_as_admin>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:94: in test_admin
    hashed_password=get_password_hash("AdminPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcfdd970>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:25,977 - app.main - INFO - initializing database...
2026-01-04 13:13:25,978 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:25,979 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_______ ERROR at setup of TestJobPostings.test_create_job_as_user_fails ________

fixturedef = <FixtureDef argname='test_user' scope='function' baseid='tests'>
request = <SubRequest 'test_user' for <Function test_create_job_as_user_fails>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:60: in test_user
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcfc1e20>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:26,290 - app.main - INFO - initializing database...
2026-01-04 13:13:26,291 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:26,291 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
___________ ERROR at setup of TestJobPostings.test_list_jobs_public ____________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_list_jobs_public>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcf6c0b0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:26,799 - app.main - INFO - initializing database...
2026-01-04 13:13:26,800 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:26,801 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_________ ERROR at setup of TestJobPostings.test_list_jobs_pagination __________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_list_jobs_pagination>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcfc0350>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:27,114 - app.main - INFO - initializing database...
2026-01-04 13:13:27,115 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:27,115 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_______ ERROR at setup of TestJobPostings.test_list_jobs_filter_company ________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_list_jobs_filter_company>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcad24b0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:27,421 - app.main - INFO - initializing database...
2026-01-04 13:13:27,422 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:27,423 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_____________ ERROR at setup of TestJobPostings.test_get_job_by_id _____________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_get_job_by_id>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcad23c0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:27,898 - app.main - INFO - initializing database...
2026-01-04 13:13:27,899 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:27,900 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
____________ ERROR at setup of TestJobPostings.test_update_own_job _____________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_update_own_job>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dca69bb0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:28,440 - app.main - INFO - initializing database...
2026-01-04 13:13:28,441 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:28,441 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
________ ERROR at setup of TestJobPostings.test_update_others_job_fails ________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_update_others_job_fails>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcf6e7b0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:28,918 - app.main - INFO - initializing database...
2026-01-04 13:13:28,918 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:28,919 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_______ ERROR at setup of TestJobPostings.test_admin_can_update_any_job ________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_admin_can_update_any_job>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcfa45f0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:29,232 - app.main - INFO - initializing database...
2026-01-04 13:13:29,233 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:29,233 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
____________ ERROR at setup of TestJobPostings.test_deactivate_job _____________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_deactivate_job>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dd1c1880>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:29,673 - app.main - INFO - initializing database...
2026-01-04 13:13:29,674 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:29,675 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_________ ERROR at setup of TestJobPostings.test_delete_job_admin_only _________

fixturedef = <FixtureDef argname='test_employer' scope='function' baseid='tests'>
request = <SubRequest 'test_employer' for <Function test_delete_job_admin_only>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:77: in test_employer
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcf6e210>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:30,025 - app.main - INFO - initializing database...
2026-01-04 13:13:30,026 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:30,027 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
___________ ERROR at setup of TestSkills.test_create_skill_as_admin ____________

fixturedef = <FixtureDef argname='test_admin' scope='function' baseid='tests'>
request = <SubRequest 'test_admin' for <Function test_create_skill_as_admin>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:94: in test_admin
    hashed_password=get_password_hash("AdminPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8de3dcbc0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:30,340 - app.main - INFO - initializing database...
2026-01-04 13:13:30,340 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:30,341 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_________ ERROR at setup of TestSkills.test_create_skill_as_user_fails _________

fixturedef = <FixtureDef argname='test_user' scope='function' baseid='tests'>
request = <SubRequest 'test_user' for <Function test_create_skill_as_user_fails>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:60: in test_user
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8de3dfd10>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:30,668 - app.main - INFO - initializing database...
2026-01-04 13:13:30,669 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:30,670 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
___________ ERROR at setup of TestSkills.test_create_duplicate_skill ___________

fixturedef = <FixtureDef argname='test_admin' scope='function' baseid='tests'>
request = <SubRequest 'test_admin' for <Function test_create_duplicate_skill>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:94: in test_admin
    hashed_password=get_password_hash("AdminPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcfc0770>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:31,065 - app.main - INFO - initializing database...
2026-01-04 13:13:31,066 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:31,067 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
___________ ERROR at setup of TestSkills.test_update_skill_as_admin ____________

fixturedef = <FixtureDef argname='test_admin' scope='function' baseid='tests'>
request = <SubRequest 'test_admin' for <Function test_update_skill_as_admin>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:94: in test_admin
    hashed_password=get_password_hash("AdminPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcad4dd0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:32,259 - app.main - INFO - initializing database...
2026-01-04 13:13:32,260 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:32,261 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_________ ERROR at setup of TestSkills.test_update_skill_as_user_fails _________

fixturedef = <FixtureDef argname='test_user' scope='function' baseid='tests'>
request = <SubRequest 'test_user' for <Function test_update_skill_as_user_fails>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:60: in test_user
    hashed_password=get_password_hash("TestPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dcf6ccb0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:32,585 - app.main - INFO - initializing database...
2026-01-04 13:13:32,586 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:32,587 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
___________ ERROR at setup of TestSkills.test_delete_skill_as_admin ____________

fixturedef = <FixtureDef argname='test_admin' scope='function' baseid='tests'>
request = <SubRequest 'test_admin' for <Function test_delete_skill_as_admin>>

    @pytest.hookimpl(wrapper=True)
    def pytest_fixture_setup(fixturedef: FixtureDef, request) -> object | None:
        asyncio_mode = _get_asyncio_mode(request.config)
        if not _is_asyncio_fixture_function(fixturedef.func):
            if asyncio_mode == Mode.STRICT:
                # Ignore async fixtures without explicit asyncio mark in strict mode
                # This applies to pytest_trio fixtures, for example
>               return (yield)
                        ^^^^^

venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:728: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
tests/conftest.py:94: in test_admin
    hashed_password=get_password_hash("AdminPassword123"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dca70bc0>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:32,955 - app.main - INFO - initializing database...
2026-01-04 13:13:32,956 - app.main - INFO - starting Workforce Analytics API v1.0.0
2026-01-04 13:13:32,956 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
=================================== FAILURES ===================================
________________ TestAuthentication.test_register_user_success _________________
  + Exception Group Traceback (most recent call last):
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/runner.py", line 353, in from_call
    |     result: TResult | None = func()
    |                              ^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/runner.py", line 245, in <lambda>
    |     lambda: runtest_hook(item=item, **kwds),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/logging.py", line 850, in pytest_runtest_call
    |     yield
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/capture.py", line 900, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/skipping.py", line 268, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/runner.py", line 179, in pytest_runtest_call
    |     item.runtest()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/python.py", line 1720, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/python.py", line 166, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/tests/test_auth.py", line 11, in test_register_user_success
    |     response = client.post(
    |                ^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/testclient.py", line 546, in post
    |     return super().post(
    |            ^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 1144, in post
    |     return self.request(
    |            ^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/testclient.py", line 445, in request
    |     return super().request(
    |            ^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 825, in request
    |     return self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 914, in send
    |     response = self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    |     response = self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    |     response = self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 1014, in _send_single_request
    |     response = transport.handle_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/testclient.py", line 348, in handle_request
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/testclient.py", line 345, in handle_request
    |     portal.call(self.app, scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 326, in call
    |     return cast(T_Retval, self.start_task_soon(func, *args).result())
    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    |     return self.__get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    |     raise self._exception
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 257, in _call_func
    |     retval = await retval_or_awaitable
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    |     hashed_password = get_password_hash(user_data.password)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    |     return pwd_context.hash(password)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    |     return record.hash(secret, **kwds)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    |     self.checksum = self._calc_checksum(secret)
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    |     self._stub_requires_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    |     cls.set_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    |     return owner.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    |     return cls.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    |     cls._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    |     super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    |     ok = loader(**kwds)
    |          ^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    |     return mixin_cls._finalize_backend_mixin(name, dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    |     if detect_wrap_bug(IDENT_2A):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    |     if verify(secret, bug_hash):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    |     return consteq(self._calc_checksum(secret), chk)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    |     hash = _bcrypt.hashpw(secret, config)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    | ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/tests/test_auth.py", line 11, in test_register_user_success
    response = client.post(
               ^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/testclient.py", line 546, in post
    return super().post(
           ^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 1144, in post
    return self.request(
           ^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/testclient.py", line 445, in request
    return super().request(
           ^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 825, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/testclient.py", line 348, in handle_request
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/testclient.py", line 345, in handle_request
    portal.call(self.app, scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 326, in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/concurrent/futures/_base.py", line 456, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/from_thread.py", line 257, in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

The above exception was the direct cause of the following exception:

self = <tests.test_auth.TestAuthentication object at 0x7dc8de2f1c40>
client = <starlette.testclient.TestClient object at 0x7dc8de34d100>

    def test_register_user_success(self, client):
        """test successful user registration"""
>       response = client.post(
            "/v1/auth/register",
            json={
                "email": "newuser@example.com",
                "username": "newuser",
                "password": "NewPassword123",
                "full_name": "New User",
                "role": "user"
            }
        )

tests/test_auth.py:11: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
venv/lib/python3.12/site-packages/starlette/testclient.py:546: in post
    return super().post(
venv/lib/python3.12/site-packages/httpx/_client.py:1144: in post
    return self.request(
venv/lib/python3.12/site-packages/starlette/testclient.py:445: in request
    return super().request(
venv/lib/python3.12/site-packages/httpx/_client.py:825: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/httpx/_client.py:914: in send
    response = self._send_handling_auth(
venv/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
    response = self._send_handling_redirects(
venv/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/starlette/testclient.py:348: in handle_request
    raise exc
venv/lib/python3.12/site-packages/starlette/testclient.py:345: in handle_request
    portal.call(self.app, scope, receive, send)
venv/lib/python3.12/site-packages/anyio/from_thread.py:326: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/concurrent/futures/_base.py:456: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
venv/lib/python3.12/site-packages/anyio/from_thread.py:257: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/fastapi/applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:85: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/middleware/logging.py:45: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/starlette/middleware/base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
venv/lib/python3.12/site-packages/starlette/middleware/base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/base.py:191: in __call__
    with recv_stream, send_stream, collapse_excgroups():
/usr/lib/python3.12/contextlib.py:158: in __exit__
    self.gen.throw(value)
venv/lib/python3.12/site-packages/starlette/_utils.py:85: in collapse_excgroups
    raise exc
venv/lib/python3.12/site-packages/starlette/middleware/base.py:193: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/middleware/request_id.py:24: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/starlette/middleware/base.py:168: in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
venv/lib/python3.12/site-packages/starlette/middleware/base.py:144: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
venv/lib/python3.12/site-packages/starlette/middleware/cors.py:85: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:736: in app
    await route.handle(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/routing.py:290: in handle
    await self.app(scope, receive, send)
venv/lib/python3.12/site-packages/fastapi/routing.py:115: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    raise exc
venv/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
venv/lib/python3.12/site-packages/fastapi/routing.py:101: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/fastapi/routing.py:355: in app
    raw_response = await run_endpoint_function(
venv/lib/python3.12/site-packages/fastapi/routing.py:243: in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/routers/auth.py:36: in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
app/utils/security.py:25: in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/context.py:2258: in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:779: in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:591: in _calc_checksum
    self._stub_requires_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2254: in _stub_requires_backend
    cls.set_backend()
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2156: in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2163: in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2188: in set_backend
    cls._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2311: in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:2224: in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:626: in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:421: in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:380: in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
venv/lib/python3.12/site-packages/passlib/utils/handlers.py:792: in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <passlib.handlers.bcrypt._BcryptBackend object at 0x7dc8dd153e30>
secret = b'01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345...7890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234'

    def _calc_checksum(self, secret):
        # bcrypt behavior:
        #   secret must be bytes
        #   config must be ascii bytes
        #   returns ascii bytes
        secret, ident = self._prepare_digest_args(secret)
        config = self._get_config(ident)
        if isinstance(config, unicode):
            config = config.encode("ascii")
>       hash = _bcrypt.hashpw(secret, config)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py:655: ValueError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:22,372 - app.main - INFO - initializing database...
2026-01-04 13:13:22,374 - app.main - INFO - starting Workforce Analytics API v1.0.0
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
----------------------------- Captured stderr call -----------------------------
{"asctime": "2026-01-04 13:13:22,376", "levelname": "INFO", "name": "api", "message": "incoming request", "request_id": null, "method": "POST", "path": "/v1/auth/register", "client": "testclient"}
2026-01-04 13:13:22,376 - api - INFO - incoming request
2026-01-04 13:13:22,394 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
{"asctime": "2026-01-04 13:13:22,401", "levelname": "ERROR", "name": "api", "message": "request failed", "exc_info": "  + Exception Group Traceback (most recent call last):\n  |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 79, in collapse_excgroups\n  |     yield\n  |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 192, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 783, in __aexit__\n  |     raise BaseExceptionGroup(\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py\", line 45, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |   File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    |     self.gen.throw(value)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py\", line 24, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 115, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 101, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 355, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 243, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py\", line 36, in register_user\n    |     hashed_password = get_password_hash(user_data.password)\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py\", line 25, in get_password_hash\n    |     return pwd_context.hash(password)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py\", line 2258, in hash\n    |     return record.hash(secret, **kwds)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 779, in hash\n    |     self.checksum = self._calc_checksum(secret)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 591, in _calc_checksum\n    |     self._stub_requires_backend()\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2254, in _stub_requires_backend\n    |     cls.set_backend()\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2156, in set_backend\n    |     return owner.set_backend(name, dryrun=dryrun)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2163, in set_backend\n    |     return cls.set_backend(name, dryrun=dryrun)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2188, in set_backend\n    |     cls._set_backend(name, dryrun)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2311, in _set_backend\n    |     super(SubclassBackendMixin, cls)._set_backend(name, dryrun)\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2224, in _set_backend\n    |     ok = loader(**kwds)\n    |          ^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 626, in _load_backend_mixin\n    |     return mixin_cls._finalize_backend_mixin(name, dryrun)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 421, in _finalize_backend_mixin\n    |     if detect_wrap_bug(IDENT_2A):\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 380, in detect_wrap_bug\n    |     if verify(secret, bug_hash):\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 792, in verify\n    |     return consteq(self._calc_checksum(secret), chk)\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 655, in _calc_checksum\n    |     hash = _bcrypt.hashpw(secret, config)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])\n    +------------------------------------\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py\", line 45, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n  File \"/usr/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py\", line 24, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 115, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 101, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 355, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py\", line 243, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py\", line 36, in register_user\n    hashed_password = get_password_hash(user_data.password)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py\", line 25, in get_password_hash\n    return pwd_context.hash(password)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py\", line 2258, in hash\n    return record.hash(secret, **kwds)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 779, in hash\n    self.checksum = self._calc_checksum(secret)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 591, in _calc_checksum\n    self._stub_requires_backend()\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2254, in _stub_requires_backend\n    cls.set_backend()\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2156, in set_backend\n    return owner.set_backend(name, dryrun=dryrun)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2163, in set_backend\n    return cls.set_backend(name, dryrun=dryrun)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2188, in set_backend\n    cls._set_backend(name, dryrun)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2311, in _set_backend\n    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 2224, in _set_backend\n    ok = loader(**kwds)\n         ^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 626, in _load_backend_mixin\n    return mixin_cls._finalize_backend_mixin(name, dryrun)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 421, in _finalize_backend_mixin\n    if detect_wrap_bug(IDENT_2A):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 380, in detect_wrap_bug\n    if verify(secret, bug_hash):\n       ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py\", line 792, in verify\n    return consteq(self._calc_checksum(secret), chk)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py\", line 655, in _calc_checksum\n    hash = _bcrypt.hashpw(secret, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])", "request_id": null, "method": "POST", "path": "/v1/auth/register", "duration_ms": 24.76, "error": "password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])"}
2026-01-04 13:13:22,401 - api - ERROR - request failed
  + Exception Group Traceback (most recent call last):
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    |     hashed_password = get_password_hash(user_data.password)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    |     return pwd_context.hash(password)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    |     return record.hash(secret, **kwds)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    |     self.checksum = self._calc_checksum(secret)
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    |     self._stub_requires_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    |     cls.set_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    |     return owner.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    |     return cls.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    |     cls._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    |     super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    |     ok = loader(**kwds)
    |          ^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    |     return mixin_cls._finalize_backend_mixin(name, dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    |     if detect_wrap_bug(IDENT_2A):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    |     if verify(secret, bug_hash):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    |     return consteq(self._calc_checksum(secret), chk)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    |     hash = _bcrypt.hashpw(secret, config)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    | ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2026-01-04 13:13:22,410 - app.main - ERROR - unhandled exception: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
  + Exception Group Traceback (most recent call last):
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    |     hashed_password = get_password_hash(user_data.password)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    |     return pwd_context.hash(password)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    |     return record.hash(secret, **kwds)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    |     self.checksum = self._calc_checksum(secret)
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    |     self._stub_requires_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    |     cls.set_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    |     return owner.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    |     return cls.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    |     cls._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    |     super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    |     ok = loader(**kwds)
    |          ^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    |     return mixin_cls._finalize_backend_mixin(name, dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    |     if detect_wrap_bug(IDENT_2A):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    |     if verify(secret, bug_hash):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    |     return consteq(self._calc_checksum(secret), chk)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    |     hash = _bcrypt.hashpw(secret, config)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    | ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
------------------------------ Captured log call -------------------------------
INFO     api:logging.py:33 incoming request
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
ERROR    api:logging.py:73 request failed
  + Exception Group Traceback (most recent call last):
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    |     hashed_password = get_password_hash(user_data.password)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    |     return pwd_context.hash(password)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    |     return record.hash(secret, **kwds)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    |     self.checksum = self._calc_checksum(secret)
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    |     self._stub_requires_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    |     cls.set_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    |     return owner.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    |     return cls.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    |     cls._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    |     super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    |     ok = loader(**kwds)
    |          ^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    |     return mixin_cls._finalize_backend_mixin(name, dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    |     if detect_wrap_bug(IDENT_2A):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    |     if verify(secret, bug_hash):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    |     return consteq(self._calc_checksum(secret), chk)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    |     hash = _bcrypt.hashpw(secret, config)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    | ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
ERROR    app.main:main.py:156 unhandled exception: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
  + Exception Group Traceback (most recent call last):
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 79, in collapse_excgroups
  |     yield
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 192, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    |     raise app_exc from app_exc.__cause__ or app_exc.__context__
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    |     hashed_password = get_password_hash(user_data.password)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    |     return pwd_context.hash(password)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    |     return record.hash(secret, **kwds)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    |     self.checksum = self._calc_checksum(secret)
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    |     self._stub_requires_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    |     cls.set_backend()
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    |     return owner.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    |     return cls.set_backend(name, dryrun=dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    |     cls._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    |     super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    |     ok = loader(**kwds)
    |          ^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    |     return mixin_cls._finalize_backend_mixin(name, dryrun)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    |     if detect_wrap_bug(IDENT_2A):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    |     if verify(secret, bug_hash):
    |        ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    |     return consteq(self._calc_checksum(secret), chk)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    |     hash = _bcrypt.hashpw(secret, config)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    | ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
    +------------------------------------

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/logging.py", line 45, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/middleware/request_id.py", line 24, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/routers/auth.py", line 36, in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/utils/security.py", line 25, in get_password_hash
    return pwd_context.hash(password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
--------------------------- Captured stderr teardown ---------------------------
2026-01-04 13:13:23,176 - app.main - INFO - shutting down application
---------------------------- Captured log teardown -----------------------------
INFO     app.main:main.py:42 shutting down application
______________ TestAuthentication.test_get_current_user_no_token _______________

self = <tests.test_auth.TestAuthentication object at 0x7dc8de34e9f0>
client = <starlette.testclient.TestClient object at 0x7dc8dcfa72f0>

    def test_get_current_user_no_token(self, client):
        """test getting current user without token fails"""
        response = client.get("/v1/auth/me")
>       assert response.status_code == status.HTTP_403_FORBIDDEN
E       assert 401 == 403
E        +  where 401 = <Response [401 Unauthorized]>.status_code
E        +  and   403 = status.HTTP_403_FORBIDDEN

tests/test_auth.py:118: AssertionError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:25,397 - app.main - INFO - initializing database...
2026-01-04 13:13:25,398 - app.main - INFO - starting Workforce Analytics API v1.0.0
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
----------------------------- Captured stderr call -----------------------------
{"asctime": "2026-01-04 13:13:25,400", "levelname": "INFO", "name": "api", "message": "incoming request", "request_id": null, "method": "GET", "path": "/v1/auth/me", "client": "testclient"}
2026-01-04 13:13:25,400 - api - INFO - incoming request
{"asctime": "2026-01-04 13:13:25,401", "levelname": "INFO", "name": "api", "message": "request completed", "request_id": null, "method": "GET", "path": "/v1/auth/me", "status_code": 401, "duration_ms": 1.54}
2026-01-04 13:13:25,401 - api - INFO - request completed
2026-01-04 13:13:25,402 - httpx - INFO - HTTP Request: GET http://testserver/v1/auth/me "HTTP/1.1 401 Unauthorized"
------------------------------ Captured log call -------------------------------
INFO     api:logging.py:33 incoming request
INFO     api:logging.py:57 request completed
INFO     httpx:_client.py:1025 HTTP Request: GET http://testserver/v1/auth/me "HTTP/1.1 401 Unauthorized"
--------------------------- Captured stderr teardown ---------------------------
2026-01-04 13:13:25,406 - app.main - INFO - shutting down application
---------------------------- Captured log teardown -----------------------------
INFO     app.main:main.py:42 shutting down application
___________________ TestJobPostings.test_create_job_no_auth ____________________

self = <tests.test_jobs.TestJobPostings object at 0x7dc8de34d5e0>
client = <starlette.testclient.TestClient object at 0x7dc8dcfdd280>
sample_job_data = {'company': 'Tech Corp', 'description': 'looking for experienced python developer', 'employment_type': 'full-time', 'experience_level': 'senior', ...}

    def test_create_job_no_auth(self, client, sample_job_data):
        """test creating job without auth fails"""
        response = client.post("/v1/jobs/", json=sample_job_data)
>       assert response.status_code == status.HTTP_403_FORBIDDEN
E       assert 401 == 403
E        +  where 401 = <Response [401 Unauthorized]>.status_code
E        +  and   403 = status.HTTP_403_FORBIDDEN

tests/test_jobs.py:60: AssertionError
---------------------------- Captured stderr setup -----------------------------
2026-01-04 13:13:26,606 - app.main - INFO - initializing database...
2026-01-04 13:13:26,607 - app.main - INFO - starting Workforce Analytics API v1.0.0
------------------------------ Captured log setup ------------------------------
INFO     app.main:main.py:35 initializing database...
INFO     app.main:main.py:37 starting Workforce Analytics API v1.0.0
----------------------------- Captured stderr call -----------------------------
{"asctime": "2026-01-04 13:13:26,609", "levelname": "INFO", "name": "api", "message": "incoming request", "request_id": null, "method": "POST", "path": "/v1/jobs/", "client": "testclient"}
2026-01-04 13:13:26,609 - api - INFO - incoming request
{"asctime": "2026-01-04 13:13:26,612", "levelname": "INFO", "name": "api", "message": "request completed", "request_id": null, "method": "POST", "path": "/v1/jobs/", "status_code": 401, "duration_ms": 3.29}
2026-01-04 13:13:26,612 - api - INFO - request completed
2026-01-04 13:13:26,613 - httpx - INFO - HTTP Request: POST http://testserver/v1/jobs/ "HTTP/1.1 401 Unauthorized"
------------------------------ Captured log call -------------------------------
INFO     api:logging.py:33 incoming request
INFO     api:logging.py:57 request completed
INFO     httpx:_client.py:1025 HTTP Request: POST http://testserver/v1/jobs/ "HTTP/1.1 401 Unauthorized"
--------------------------- Captured stderr teardown ---------------------------
2026-01-04 13:13:26,621 - app.main - INFO - shutting down application
---------------------------- Captured log teardown -----------------------------
INFO     app.main:main.py:42 shutting down application
=============================== warnings summary ===============================
app/config.py:6
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/config.py:6: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Settings(BaseSettings):

app/database.py:16
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/database.py:16: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

venv/lib/python3.12/site-packages/passlib/utils/__init__.py:854
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

app/schemas/user.py:18
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/schemas/user.py:18: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('password')

app/schemas/user.py:36
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/schemas/user.py:36: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserResponse(UserBase):

app/schemas/job_posting.py:26
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/schemas/job_posting.py:26: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('salary_max')

app/schemas/job_posting.py:51
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/schemas/job_posting.py:51: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class JobPostingResponse(JobPostingBase):

app/schemas/skill.py:30
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/app/schemas/skill.py:30: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class SkillResponse(SkillBase):

venv/lib/python3.12/site-packages/pythonjsonlogger/jsonlogger.py:11
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/pythonjsonlogger/jsonlogger.py:11: DeprecationWarning: pythonjsonlogger.jsonlogger has been moved to pythonjsonlogger.json
    warnings.warn(

tests/test_auth.py::TestAuthentication::test_register_weak_password
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/starlette/_exception_handler.py:59: DeprecationWarning: 'HTTP_422_UNPROCESSABLE_ENTITY' is deprecated. Use 'HTTP_422_UNPROCESSABLE_CONTENT' instead.
    response = await handler(conn, exc)

tests/test_auth.py::TestAuthentication::test_register_weak_password
  /home/sampom/forge/aise/assignments/aise26-w12d2-assignment/venv/lib/python3.12/site-packages/_pytest/python.py:166: DeprecationWarning: 'HTTP_422_UNPROCESSABLE_ENTITY' is deprecated. Use 'HTTP_422_UNPROCESSABLE_CONTENT' instead.
    result = testfunction(**testargs)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.3-final-0 ________________

Name                             Stmts   Miss  Cover   Missing
--------------------------------------------------------------
app/__init__.py                      0      0   100%
app/config.py                       41      7    83%   58-61, 67-69
app/database.py                     14      4    71%   24-28
app/dependencies/__init__.py         3      0   100%
app/dependencies/auth.py            48     26    46%   28-36, 44-47, 55-62, 71-75, 91-101
app/dependencies/rate_limit.py      41     14    66%   15-21, 51-63, 70-75
app/main.py                         56      5    91%   89, 115, 128, 178, 191
app/middleware/__init__.py           3      0   100%
app/middleware/logging.py           30      0   100%
app/middleware/request_id.py        12      0   100%
app/models/__init__.py               4      0   100%
app/models/job_posting.py           23      0   100%
app/models/skill.py                 14      0   100%
app/models/user.py                  15      0   100%
app/routers/__init__.py              5      0   100%
app/routers/auth.py                 39     13    67%   28, 33, 37-49, 68-78, 87
app/routers/health.py               25     15    40%   16, 32-55
app/routers/jobs.py                 99     68    31%   25, 39-48, 75-126, 152-154, 169-186, 200-213, 227-235, 250-260
app/routers/skills.py               80     32    60%   32-42, 73, 82, 112, 131, 148-167, 181-189, 207
app/schemas/__init__.py              4      0   100%
app/schemas/job_posting.py          57      4    93%   29-32
app/schemas/skill.py                32      0   100%
app/schemas/user.py                 36      3    92%   22, 24, 26
app/services/__init__.py             2      0   100%
app/services/market_data.py         20     15    25%   15-43, 53-55
app/utils/__init__.py                3      0   100%
app/utils/exceptions.py             16      3    81%   17, 35, 44
app/utils/security.py               29     13    55%   17, 33-43, 53-59
--------------------------------------------------------------
TOTAL                              751    222    70%
Coverage HTML written to dir htmlcov
FAIL Required test coverage of 80% not reached. Total coverage: 70.44%
=========================== short test summary info ============================
FAILED tests/test_auth.py::TestAuthentication::test_register_user_success - V...
FAILED tests/test_auth.py::TestAuthentication::test_get_current_user_no_token
FAILED tests/test_jobs.py::TestJobPostings::test_create_job_no_auth - assert ...
ERROR tests/test_auth.py::TestAuthentication::test_register_duplicate_email
ERROR tests/test_auth.py::TestAuthentication::test_register_duplicate_username
ERROR tests/test_auth.py::TestAuthentication::test_login_success - ValueError...
ERROR tests/test_auth.py::TestAuthentication::test_login_wrong_password - Val...
ERROR tests/test_auth.py::TestAuthentication::test_get_current_user - ValueEr...
ERROR tests/test_jobs.py::TestJobPostings::test_create_job_as_employer - Valu...
ERROR tests/test_jobs.py::TestJobPostings::test_create_job_as_admin - ValueEr...
ERROR tests/test_jobs.py::TestJobPostings::test_create_job_as_user_fails - Va...
ERROR tests/test_jobs.py::TestJobPostings::test_list_jobs_public - ValueError...
ERROR tests/test_jobs.py::TestJobPostings::test_list_jobs_pagination - ValueE...
ERROR tests/test_jobs.py::TestJobPostings::test_list_jobs_filter_company - Va...
ERROR tests/test_jobs.py::TestJobPostings::test_get_job_by_id - ValueError: p...
ERROR tests/test_jobs.py::TestJobPostings::test_update_own_job - ValueError: ...
ERROR tests/test_jobs.py::TestJobPostings::test_update_others_job_fails - Val...
ERROR tests/test_jobs.py::TestJobPostings::test_admin_can_update_any_job - Va...
ERROR tests/test_jobs.py::TestJobPostings::test_deactivate_job - ValueError: ...
ERROR tests/test_jobs.py::TestJobPostings::test_delete_job_admin_only - Value...
ERROR tests/test_skills.py::TestSkills::test_create_skill_as_admin - ValueErr...
ERROR tests/test_skills.py::TestSkills::test_create_skill_as_user_fails - Val...
ERROR tests/test_skills.py::TestSkills::test_create_duplicate_skill - ValueEr...
ERROR tests/test_skills.py::TestSkills::test_update_skill_as_admin - ValueErr...
ERROR tests/test_skills.py::TestSkills::test_update_skill_as_user_fails - Val...
ERROR tests/test_skills.py::TestSkills::test_delete_skill_as_admin - ValueErr...
============ 3 failed, 11 passed, 11 warnings, 23 errors in 11.43s =============
